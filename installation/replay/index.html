<!-- Elements added to main will be displayed on all pages -->
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../images/crane.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-7.3.6" name="generator"/>
<title>Syncing Instances (Replay) - Assemblyline 4</title>
<link href="../../assets/stylesheets/main.a57b2b03.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="slate" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#syncing-instances-replay">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Assemblyline 4" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Assemblyline 4">
<img alt="logo" src="../../images/crane.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Assemblyline 4
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Syncing Instances (Replay)
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="" data-md-color-scheme="default" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"></path></svg>
</label>
</form>
<div class="md-header__option">
<div class="md-select">
<button aria-label="Select language" class="md-header__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"></path></svg>
</button>
<div class="md-select__inner">
<ul class="md-select__list">
<li class="md-select__item">
<a class="md-select__link" href="../../en/installation/replay/" hreflang="en">
                    English
                  </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="../../fr/installation/replay/" hreflang="fr">
                    Fran√ßais
                  </a>
</li>
</ul>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/CybercentreCanada/assemblyline4_docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../overview/how_it_works/">
        Overview
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../user_manual/submitting_file/">
        User's manual
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../deployment/">
        Installation
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../administration/signature_management/">
        Administration
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../integration/ingestion_method/">
        Integration
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../developer_manual/env/getting_started/">
        Developer's guide
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../odm/getting_started/">
        Data Ontology
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Assemblyline 4" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Assemblyline 4">
<img alt="logo" src="../../images/crane.png"/>
</a>
    Assemblyline 4
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/CybercentreCanada/assemblyline4_docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Overview
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Overview" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Overview
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../overview/how_it_works/">
        How it works
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../overview/architecture/">
        System Architecture
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../overview/services/">
        Assemblyline services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../overview/community_services/">
        Community services
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          User's manual
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="User's manual" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          User's manual
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../user_manual/submitting_file/">
        Submitting a file for analysis
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../user_manual/results/">
        Assemblyline results
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../user_manual/searching/">
        Searching
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Installation
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Installation" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Installation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_4_1" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Getting Started" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../deployment/">
        Choose your deployment type
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_4_1_2" id="__nav_4_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_2">
          Appliance
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Appliance" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_2">
<span class="md-nav__icon md-icon"></span>
          Appliance
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../appliance/docker/">
        Docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../appliance/kubernetes-microk8s/">
        MicroK8s
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_4_1_3" id="__nav_4_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_3">
          Cluster
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Cluster" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_3">
<span class="md-nav__icon md-icon"></span>
          Cluster
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cluster/general/">
        Kubernetes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cluster/microk8s/">
        MicroK8s
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deployment_migration/">
        Appliance Migration
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3">
          Configuration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Configuration" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/config_file/">
        Configuration YAML file
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/authentication/">
        Authentication section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/core/">
        Core component section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/datasources/">
        Data sources section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/datastore/">
        Database section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/filestore/">
        File storage section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/logging/">
        Logging section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/services/">
        Service section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/submission/">
        Submission section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/system/">
        System section
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/ui/">
        User Interface section
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_4_3_12" id="__nav_4_3_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_12">
          Kubernetes-specific
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Kubernetes-specific" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_12">
<span class="md-nav__icon md-icon"></span>
          Kubernetes-specific
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/kubernetes/internal_encryption/">
        Internal Encryption (TLS/SSL)
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../classification_engine/">
        Classification engine
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../monitoring/">
        Monitoring with ELK
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Syncing Instances (Replay)
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Syncing Instances (Replay)
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works">
    How it works
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#replay-configuration-file">
    Replay configuration file
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#helm-deployment">
    Helm Deployment
  </a>
<nav aria-label="Helm Deployment" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-source-instance">
    Configure the source instance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-target-instance">
    Configure the target instance
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternate-deployment">
    Alternate Deployment
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Administration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Administration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Administration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/signature_management/">
        Signature Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/source_management/">
        Signature Source Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/service_management/">
        Service management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/system_management/">
        System Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/system_safelist/">
        System safelist
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/user_management/">
        User Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/troubleshooting/">
        Troubleshooting / FAQ
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../administration/submission_actions/">
        Submission (Post-Process) Actions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          Integration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Integration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Integration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../integration/ingestion_method/">
        Choosing your ingestion method
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integration/key_generation/">
        Generating an API key
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integration/python/">
        Python Client
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integration/java/">
        Java Client
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integration/rest/">
        RESTful API
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
          Developer's guide
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developer's guide" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Developer's guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7_1" id="__nav_7_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_1">
          Setup Environment
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Setup Environment" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_1">
<span class="md-nav__icon md-icon"></span>
          Setup Environment
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/getting_started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7_1_2" id="__nav_7_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_1_2">
          VSCode
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="VSCode" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_1_2">
<span class="md-nav__icon md-icon"></span>
          VSCode
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/vscode/setup_script/">
        Setup script
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/vscode/use_vscode/">
        Use VSCode
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7_1_3" id="__nav_7_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_1_3">
          Pycharm
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Pycharm" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_1_3">
<span class="md-nav__icon md-icon"></span>
          Pycharm
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/pycharm/local_development/">
        Local development
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/pycharm/remote_development/">
        Remote development
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/env/pycharm/use_pycharm/">
        Use PyCharm
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7_2" id="__nav_7_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_2">
          Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Services" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
          Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/developing_an_assemblyline_service/">
        Developing a service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/adding_a_service_updater/">
        Adding a Service Updater
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/run_your_service/">
        Run your service
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_7_2_4" id="__nav_7_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_2_4">
          Advanced development
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Advanced development" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_4">
<span class="md-nav__icon md-icon"></span>
          Advanced development
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/service_base/">
        ServiceBase Class
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/service_updater_base/">
        ServiceUpdater Class
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/request/">
        Request Class
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/result/">
        Result Class
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/result_section/">
        ResultSection Class
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/service_manifest/">
        Service manifest
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/services/advanced/service_updater_upgrade/">
        How-to: Upgrade Service Updater for Assemblyline 4.1+
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/core/infrastructure/">
        Infrastructure
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/frontend/frontend/">
        Frontend
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developer_manual/docs/docs/">
        Documentation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          Data Ontology
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Ontology" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          Data Ontology
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/getting_started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8_2" id="__nav_8_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2">
          Models
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Models" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_2">
<span class="md-nav__icon md-icon"></span>
          Models
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/actions/">
        PostprocessAction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/alert/">
        Alert
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/cached_file/">
        CachedFile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/config/">
        Config
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/emptyresult/">
        EmptyResult
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/error/">
        Error
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/file/">
        File
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/filescore/">
        FileScore
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/heuristic/">
        Heuristic
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8_2_10" id="__nav_8_2_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2_10">
          Ontology
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Ontology" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_8_2_10">
<span class="md-nav__icon md-icon"></span>
          Ontology
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8_2_10_1" id="__nav_8_2_10_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2_10_1">
          Filetypes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Filetypes" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_8_2_10_1">
<span class="md-nav__icon md-icon"></span>
          Filetypes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/filetypes/pe/">
        PE
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/ontology/">
        ResultOntology
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8_2_10_3" id="__nav_8_2_10_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2_10_3">
          Results
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Results" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_8_2_10_3">
<span class="md-nav__icon md-icon"></span>
          Results
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/antivirus/">
        Antivirus
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/malware_config/">
        MalwareConfig
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/network/">
        NetworkConnection
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/process/">
        Process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/sandbox/">
        Sandbox
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/ontology/results/signature/">
        Signature
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/replay/">
        ReplayConfig
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/result/">
        Result
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/safelist/">
        Safelist
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/service/">
        Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/service_delta/">
        ServiceDelta
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/signature/">
        Signature
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/statistics/">
        Statistics
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/submission/">
        Submission
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/submission_summary/">
        SubmissionSummary
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/submission_tree/">
        SubmissionTree
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/tagging/">
        Tagging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/user/">
        User
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/user_favorites/">
        UserFavorites
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/user_settings/">
        UserSettings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/models/workflow/">
        Workflow
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_8_3" id="__nav_8_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_3">
          Messages
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Messages" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_3">
<span class="md-nav__icon md-icon"></span>
          Messages
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/alert/">
        AlertMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/alerter_heartbeat/">
        AlerterMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/archive_heartbeat/">
        ArchiveMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/dispatcher_heartbeat/">
        DispatcherMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/dispatching/">
        DispatcherCommandMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/expiry_heartbeat/">
        ExpiryMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/ingest_heartbeat/">
        IngestMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/metrics/">
        MetricsMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/scaler_heartbeat/">
        ScalerMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/scaler_status_heartbeat/">
        ScalerStatusMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/service_heartbeat/">
        ServiceMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/service_timing_heartbeat/">
        ServiceTimingMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/submission/">
        SubmissionMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/task/">
        TaskMessage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../odm/messages/vacuum_heartbeat/">
        VacuumMessage
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works">
    How it works
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#replay-configuration-file">
    Replay configuration file
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#helm-deployment">
    Helm Deployment
  </a>
<nav aria-label="Helm Deployment" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-source-instance">
    Configure the source instance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-the-target-instance">
    Configure the target instance
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternate-deployment">
    Alternate Deployment
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/CybercentreCanada/assemblyline4_docs/edit/master/docs/installation/replay.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="syncing-instances-replay">Syncing Instances (Replay)<a class="headerlink" href="#syncing-instances-replay" title="Permanent link">¬∂</a></h1>
<p>Replay is a new feature of Assemblyline that allows you to bridge the gap between online and offline deployments of Assemblyline. You will be able to start a scan on your online deployment, bundle the results, ship them to your offline enclave and continue the scans in the offline enclave.</p>
<h2 id="how-it-works">How it works<a class="headerlink" href="#how-it-works" title="Permanent link">¬∂</a></h2>
<p>Replay has two main components:</p>
<ul>
<li>Replay Creator</li>
<li>Replay Loader</li>
</ul>
<p>The <code>Replay Creator</code> component will monitor either the alerts, the submissions or both and bundle them once they are completed including all their results, errors, files, etc. Those bundles will have to be transfered with the method of your choice to your offline enclave where the <code>Replay Loader</code> component will monitor a directory loading the bundles into your offline instance. Once these bundles are transferred onto your target system, the loader will be able to tell your offline instance to resume the scan and rescan the files with your offline services if you tell it to.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="100%" href="../images/Replay.png"><img alt="Replay diagram" src="../images/Replay.png"/></a></p>
<h2 id="replay-configuration-file">Replay configuration file<a class="headerlink" href="#replay-configuration-file" title="Permanent link">¬∂</a></h2>
<p>Replay has its own configuration file that is seperate from the usual <code>config.yml</code> file found in an Assemblyline instance because it can run in an <code>API</code> mode which does not require a full Assemblyline config. In all cases, Replay will load its configuration file from <code>/etc/assemblyline/replay.yml</code> by default or from the file path specified in the <code>REPLAY_CONFIG_PATH</code> environment variable.</p>
<p>If you are using our helm chart to deploy Replay you will be able to simply put the content of your <code>replay.yml</code> file in the <code>replay:</code> section of the <code>values.yml</code> file but if you are using Replay in container or simple script mode you will have to create your own Replay config file and mount it at the right place. The examples below will show you how to do this.</p>
<p>In the meantime, here's a fully descriptive example of the Replay config file.</p>
<div class="admonition example">
<p class="admonition-title">Default replay.yml file</p>
<div class="highlight"><pre><span></span><code><span class="c1">####################################</span>
<span class="c1"># Replay Creator configuration block</span>
<span class="c1">####################################</span>
<span class="nt">creator</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># -------------------------------</span>
<span class="w">  </span><span class="c1"># Alert input configuration block</span>
<span class="w">  </span><span class="c1"># -------------------------------</span>
<span class="w">  </span><span class="nt">alert_input</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Is creator monitoring alerts for changes?</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="c1"># Which queries are performed to tell if an alert is ready for Replay?</span>
<span class="w">    </span><span class="c1">#  DEFAULT:</span>
<span class="w">    </span><span class="c1">#     - The alert is not performing an extended scan</span>
<span class="w">    </span><span class="c1">#     - All workflows on this system have executed on the alert</span>
<span class="w">    </span><span class="nt">filter_queries</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NOT extended_scan:submitted</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">workflows_completed:true</span>
<span class="w">    </span><span class="c1"># Number of concurrent worker threads the Replay workers will use to</span>
<span class="w">    </span><span class="c1"># process alerts</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>

<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="c1"># Submission input configuration block</span>
<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="nt">submission_input</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Is creator monitoring submissions for changes?</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="c1"># Which queries are performed to tell if a submission is ready for Replay?</span>
<span class="w">    </span><span class="c1">#  DEFAULT:</span>
<span class="w">    </span><span class="c1">#     - There was a manual request for the submission to be replayed in</span>
<span class="w">    </span><span class="c1">#       the metadata</span>
<span class="w">    </span><span class="nt">filter_queries</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">metadata.replay:requested</span>
<span class="w">    </span><span class="c1"># Number of concurrent worker threads the Replay workers will use to</span>
<span class="w">    </span><span class="c1"># process submissions</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>

<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="c1"># Replay client configuration block (How Replay will connect to AL)</span>
<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Type of connection (direct or api )</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">direct</span>
<span class="w">    </span><span class="c1"># Options for the connection (only applies to api mode)</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># API Key that will be used to connect</span>
<span class="w">      </span><span class="c1">#  NOTE: creator needs READ privilege only</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devkey:devpass</span>
<span class="w">      </span><span class="c1"># Url to your Assemblyline server</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost:443</span>
<span class="w">      </span><span class="c1"># User that will connect via the API</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="c1"># Should the SSL connection be verified ?</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="c1"># Amount of time to lookback when checking for new alert/submission</span>
<span class="w">  </span><span class="c1"># NOTE: This is a datemath lucene value (examples: *, now-1d, now-1h, ...)</span>
<span class="w">  </span><span class="nt">lookback_time</span><span class="p">:</span><span class="w"> </span><span class="s">'*'</span>
<span class="w">  </span><span class="c1"># Assemblyline filestore object where the bundle files will be created</span>
<span class="w">  </span><span class="c1">#  NOTE: This is similar to the urls found in the filestore configuration of the</span>
<span class="w">  </span><span class="c1">#        config.yml file. Supported types are: S3, Azure Blob, FTP, local and sftp</span>
<span class="w">  </span><span class="nt">output_filestore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file:///tmp/replay/output</span>
<span class="w">  </span><span class="c1"># Working directory for the creator and creator_worker processes</span>
<span class="w">  </span><span class="nt">working_directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/replay/work</span>


<span class="c1">####################################</span>
<span class="c1"># Replay Loader configuration block</span>
<span class="c1">####################################</span>
<span class="nt">loader</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="c1"># Replay client configuration block (How Replay will connect to AL)</span>
<span class="w">  </span><span class="c1"># ------------------------------------</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Type of connection (direct or api )</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">direct</span>
<span class="w">    </span><span class="c1"># Options for the connection (only applies to api mode)</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># API Key that will be used to connect</span>
<span class="w">      </span><span class="c1">#  NOTE: loader needs WRITE privilege only</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devkey:devpass</span>
<span class="w">      </span><span class="c1"># Url to your Assemblyline server</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost:443</span>
<span class="w">      </span><span class="c1"># User that will connect via the API</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<span class="w">      </span><span class="c1"># Should the SSL connection be verified ?</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="c1"># Directory where bundles that failed to load will be copied to</span>
<span class="w">  </span><span class="nt">failed_directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/replay/failed</span>
<span class="w">  </span><span class="c1"># Directory from which we will monitor new files and load them in</span>
<span class="w">  </span><span class="c1"># the target instance. This will probably be an external directory</span>
<span class="w">  </span><span class="c1"># like an NFS mount...</span>
<span class="w">  </span><span class="nt">input_directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/replay/input</span>
<span class="w">  </span><span class="c1"># Number of concurrent worker threads the loader worker will use</span>
<span class="w">  </span><span class="c1"># to load the bundle in the target instance</span>
<span class="w">  </span><span class="nt">input_threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<span class="w">  </span><span class="c1"># Minimum classification that will be applied to each loaded bundle</span>
<span class="w">  </span><span class="c1"># regardless of their original classification</span>
<span class="w">  </span><span class="nt">min_classification</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">  </span><span class="c1"># List of services that you which to rescan after the bundle is done importing</span>
<span class="w">  </span><span class="c1"># NOTE: If for example you have a different set of Yara rules on the source and</span>
<span class="w">  </span><span class="c1">#       target systems you could set that value to ['YARA']</span>
<span class="w">  </span><span class="nt">rescan</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="w">  </span><span class="c1"># Working directory for the loader and loader_worker processes</span>
<span class="w">  </span><span class="nt">working_directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/replay/work</span>
</code></pre></div>
</div>
<h2 id="helm-deployment">Helm Deployment<a class="headerlink" href="#helm-deployment" title="Permanent link">¬∂</a></h2>
<p>There are multiple ways to configure Replay so unfortunately there is no one size fits all configuration. The easiest setup by far is to use the different flags that we have pre-configured in our helm chart. Make sure you pull our latest helm chart to be able to benefit of this easy setup.</p>
<p>The helm chart deployment of Replay will automatically scale the worker components if there are too many bundles to create or load.</p>
<h3 id="configure-the-source-instance">Configure the source instance<a class="headerlink" href="#configure-the-source-instance" title="Permanent link">¬∂</a></h3>
<p>The source instance is the one that will run the Replay Creator components. These components will have to write the alert and submission bundle somewhere. Conveniently, Replay uses the filestore feature of Assemblyline so you can use any type of storage that it supports to save your files.</p>
<ul>
<li>S3</li>
<li>Azure blob</li>
<li>FTP</li>
<li>SFTP</li>
</ul>
<p>When you know where your files are going to be saved to, edit the <code>values.yml</code> file of your helm deployment and add the following lines:</p>
<div class="admonition example">
<p class="admonition-title">Partial values.yaml config for Replay creator setup</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>

<span class="c1"># Turn on Replay</span>
<span class="nt">useReplay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Set Replay mode to creator</span>
<span class="nt">replayMode</span><span class="p">:</span><span class="w"> </span><span class="s">"creator"</span>

<span class="c1"># Set the output folder for the creator worker</span>
<span class="nt">replay</span><span class="p">:</span>
<span class="w">  </span><span class="nt">creator</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output_filestore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;AN ASSEMBLYLINE FILESTORE LINK - SEE REPLAY CONFIGURATION FILE&gt;</span>

<span class="nn">...</span>
</code></pre></div>
</div>
<p>When this is done you can just perform an Helm upgrade to apply the changes to your instance.</p>
<h3 id="configure-the-target-instance">Configure the target instance<a class="headerlink" href="#configure-the-target-instance" title="Permanent link">¬∂</a></h3>
<p>The target instance is the one that will run the Replay Loader components. These components will have to have direct access to a directory where the files transfered over are dropped. This limits what can be use so <code>NFS</code> is our recommended way for now.</p>
<p>Edit the <code>values.yml</code> file of your helm deployment and add the following lines:</p>
<div class="admonition example">
<p class="admonition-title">Partial values.yaml config for Replay loader setup</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>

<span class="c1"># Turn on Replay</span>
<span class="nt">useReplay</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Set Replay mode to loader</span>
<span class="nt">replayMode</span><span class="p">:</span><span class="w"> </span><span class="s">"loader"</span>

<span class="c1"># Make sure input folder is accessible</span>
<span class="nt">replayLivenessCommand</span><span class="p">:</span><span class="w"> </span><span class="s">"ls</span><span class="nv"> </span><span class="s">/tmp/replay/input"</span>

<span class="c1"># Load input folder</span>
<span class="nt">replayLoaderVolume</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">replay-data</span>
<span class="w">    </span><span class="nt">nfs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/folder</span>

<span class="nn">...</span>
</code></pre></div>
</div>
<p>When this is done you can just perform an Helm upgrade to apply the changes to your instance.</p>
<h2 id="alternate-deployment">Alternate Deployment<a class="headerlink" href="#alternate-deployment" title="Permanent link">¬∂</a></h2>
<p>If you are not using our helm chart to deploy Assemblyline, perhaps you are using a docker-compose deployment, there are alternatives on how to run the different Replay components</p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><label for="__tabbed_1_1">Virtual Env using API</label><div class="tabbed-content">
<p>If you are using the API mode to launch Replay, you do not have to launch Replay in a container and can just use a normal python process in a virtual environment if you choose so.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul>
<li>You will need python 3.9+ to run the Assemblyline code, if you don't have it, use the container mode.</li>
<li>The user using the Replay creator needs an API Key with read access where as the user using the Replay loader needs an API Key with write access.</li>
<li>Because you are launching Replay directly as a process the replay.yml configuration has to be in <code>/etc/assemblyline/</code> folder.</li>
</ul>
</div>
<p>First of all, create your virtual environment and install the pre-requisite packages:
<div class="highlight"><pre><span></span><code>python3.9<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>~/replay_venv
~/replay_venv/bin/pip3.9<span class="w"> </span>install<span class="w"> </span>assemblyline<span class="w"> </span>assemblyline-core<span class="w"> </span>assemblyline_client
</code></pre></div></p>
<p>Then you can create your <code>/etc/assemblyline/replay.yml</code> configuration file and tell Replay to use the API mode:</p>
<div class="admonition example">
<p class="admonition-title">Partial replay.yml configuration</p>
<div class="highlight"><pre><span></span><code><span class="nt">creator</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">"https://&lt;YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">SERVER</span><span class="nv"> </span><span class="s">DOMAIN/IP&gt;:443"</span><span class="err">,</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="s">"&lt;PASTE</span><span class="nv"> </span><span class="s">YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">KEY&gt;"</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR SOURCE USERNAME&gt;</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">loader</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">"https://&lt;YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">SERVER</span><span class="nv"> </span><span class="s">DOMAIN/IP&gt;:443"</span><span class="err">,</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="s">"&lt;PASTE</span><span class="nv"> </span><span class="s">YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">KEY&gt;"</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR SOURCE USERNAME&gt;</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
</div>
<p>Finally, just run whichever components are relevant depending on the Assemblyline instance you are on:</p>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><label for="__tabbed_2_1">Source Assemblyline instance</label><div class="tabbed-content">
<p>Run the creator:
<div class="highlight"><pre><span></span><code>~/replay_venv/bin/python3.9<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>~/replay_venv/bin/python3.9<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run_worker
</code></pre></div></p>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio"><label for="__tabbed_2_2">Target Assemblyline instance</label><div class="tabbed-content">
<p>Run the loader:
<div class="highlight"><pre><span></span><code>~/replay_venv/bin/python3.9<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>~/replay_venv/bin/python3.9<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run_worker
</code></pre></div></p>
</div>
</input></input></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio"><label for="__tabbed_1_2">Docker container using API</label><div class="tabbed-content">
<p>If you are using the API mode to launch Replay, you will not be able to use the already existing Assemblyline containers to use Replay, you will have to build your own.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul>
<li>The user using the Replay creator needs an API Key with read access where as the user using the Replay loader needs an API Key with write access.</li>
<li>We will assume the configuration files for Replay are in a <code>replay_config</code> folder in you home directory.</li>
</ul>
</div>
<p>With the following Dockerfile in <code>~/replay_config/Dockerfile</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">cccs/assemblyline-core:stable</span>

pip<span class="w"> </span>install<span class="w"> </span>--no-cache-dir<span class="w"> </span>--user<span class="w"> </span>assemblyline_client
</code></pre></div>
<p>Build your Replay container:</p>
<div class="highlight"><pre><span></span><code><span class="o">(</span><span class="nb">cd</span><span class="w"> </span>~/replay_config/<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>--no-cache<span class="w"> </span>-t<span class="w"> </span>cccs/assemblyline-replay<span class="w"> </span>.<span class="o">)</span>
</code></pre></div>
<p>Then you can create your <code>~/replay_config/replay.yml</code> configuration file and tell Replay to use the API mode:</p>
<div class="admonition example">
<p class="admonition-title">Partial replay.yml configuration</p>
<div class="highlight"><pre><span></span><code><span class="nt">creator</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">"https://&lt;YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">SERVER</span><span class="nv"> </span><span class="s">DOMAIN/IP&gt;:443"</span><span class="err">,</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="s">"&lt;PASTE</span><span class="nv"> </span><span class="s">YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">KEY&gt;"</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR SOURCE USERNAME&gt;</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="nt">loader</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
<span class="w">    </span><span class="nt">options</span><span class="p">:</span>
<span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="s">"https://&lt;YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">SERVER</span><span class="nv"> </span><span class="s">DOMAIN/IP&gt;:443"</span><span class="err">,</span>
<span class="w">      </span><span class="nt">apikey</span><span class="p">:</span><span class="w"> </span><span class="s">"&lt;PASTE</span><span class="nv"> </span><span class="s">YOUR</span><span class="nv"> </span><span class="s">SOURCE</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">KEY&gt;"</span>
<span class="w">      </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR SOURCE USERNAME&gt;</span>
<span class="w">      </span><span class="nt">verify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div>
</div>
<p>Finally, just run which ever components are relevant depending on the Assemblyline instance you are on:</p>
<div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><label for="__tabbed_3_1">Source Assemblyline instance</label><div class="tabbed-content">
<p>Run the creator:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-creator<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/replay_config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-creator-worker<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/replay_config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run_worker
</code></pre></div></p>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio"><label for="__tabbed_3_2">Target Assemblyline instance</label><div class="tabbed-content">
<p>Run the loader:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-loader<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/replay_config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-loader-worker<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/replay_config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run_worker
</code></pre></div></p>
</div>
</input></input></div>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio"><label for="__tabbed_1_3">Docker container direct DB Access</label><div class="tabbed-content">
<p>This scenario is mainly going to be used if you have a docker-compose appliance of Assemblyline so you can just run a couple extra containers to get Replay going. Since you have direct access to Assemblyline's Database and queues you do not have to create a special container and can just use the core container.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We will assume that all you are running an appliance out of you home folder (<code>~/appliance/</code>). You should adjust the paths correctly to fit your installation.</p>
</div>
<p>First of all, you will need to create your <code>replay.yml</code> file in your <code>~/appliance/config</code> directory:</p>
<div class="admonition example">
<p class="admonition-title">Partial replay.yml configuration</p>
<div class="highlight"><pre><span></span><code><span class="nt">creator</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">direct</span>
<span class="nt">loader</span><span class="p">:</span>
<span class="w">  </span><span class="nt">client</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">direct</span>
</code></pre></div>
</div>
<p>Then you can just run which ever components are relevant depending on the Assemblyline instance you are on:</p>
<div class="tabbed-set" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><label for="__tabbed_4_1">Source Assemblyline instance</label><div class="tabbed-content">
<p>Run the creator:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-creator<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/classification.yml:/etc/assemblyline/classification.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/config.yml:/etc/assemblyline/config.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-creator-worker<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/classification.yml:/etc/assemblyline/classification.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/config.yml:/etc/assemblyline/config.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.creator.run_worker
</code></pre></div></p>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio"><label for="__tabbed_4_2">Target Assemblyline instance</label><div class="tabbed-content">
<p>Run the loader:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-loader<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/classification.yml:/etc/assemblyline/classification.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/config.yml:/etc/assemblyline/config.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run
</code></pre></div>
And its worker:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
--name<span class="w"> </span>assemblyline-replay-loader-worker<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/classification.yml:/etc/assemblyline/classification.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/config.yml:/etc/assemblyline/config.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>~/appliance/config/replay.yml:/etc/assemblyline/replay.yml:ro<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/files:/tmp/replay/output<span class="w"> </span><span class="se">\</span>
-v<span class="w"> </span>/tmp/replay/creator:/tmp/replay/work<span class="w"> </span><span class="se">\</span>
cccs/assemblyline-core:stable<span class="w"> </span><span class="se">\</span>
python<span class="w"> </span>-m<span class="w"> </span>assemblyline_core.replay.loader.run_worker
</code></pre></div></p>
</div>
</input></input></div>
</div>
</input></input></input></div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Monitoring with ELK" class="md-footer__link md-footer__link--prev" href="../monitoring/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Monitoring with ELK
            </div>
</div>
</a>
<a aria-label="Next: Signature Management" class="md-footer__link md-footer__link--next" href="../../administration/signature_management/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Signature Management
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
            Material for MkDocs
          </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.expand", "navigation.top"], "search": "../../assets/javascripts/workers/search.fcfe8b6d.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.b1047164.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
<script src="../../javascripts/tables.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": false, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>